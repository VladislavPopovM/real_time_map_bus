# üöå –û–Ω–ª–∞–π–Ω-–∫–∞—Ä—Ç–∞ –¥–≤–∏–∂–µ–Ω–∏—è –∞–≤—Ç–æ–±—É—Å–æ–≤ üìç

–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≥–æ—Ä–æ–¥—Å–∫–æ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. –ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –Ω–∞ **Trio**, –∏–º–∏—Ç–∞—Ç–æ—Ä –¥–≤–∏–∂–µ–Ω–∏—è —Ç—ã—Å—è—á –∞–≤—Ç–æ–±—É—Å–æ–≤ –∏ —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ **Svelte 5**. üöÄ

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
.
‚îú‚îÄ‚îÄ frontend/                # üé® –§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ Svelte 5
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Map.svelte   # üó∫Ô∏è –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞—Ä—Ç—ã (Leaflet + –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–µ –∏–∫–æ–Ω–∫–∏)
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ busStore.svelte.js # üì¶ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö –∏ –ª–æ–≥–∏–∫–∞ WebSocket
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ App.svelte       # üè† –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ package.json         # üìú –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
‚îÇ
‚îú‚îÄ‚îÄ server/                  # ‚öôÔ∏è –ë—ç–∫–µ–Ω–¥ –Ω–∞ Python
‚îÇ   ‚îú‚îÄ‚îÄ routes/              # üõ£Ô∏è –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å JSON-–º–∞—Ä—à—Ä—É—Ç–∞–º–∏ –ú–æ—Å–∫–≤—ã
‚îÇ   ‚îú‚îÄ‚îÄ server.py            # üñ•Ô∏è –ì–ª–∞–≤–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏—è, 2 –ø–æ—Ä—Ç–∞)
‚îÇ   ‚îú‚îÄ‚îÄ fake_bus.py          # ü§ñ –ò–º–∏—Ç–∞—Ç–æ—Ä –∞–≤—Ç–æ–±—É—Å–æ–≤ (–∫–∞–Ω–∞–ª—ã Trio, –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ)
‚îÇ   ‚îú‚îÄ‚îÄ harmful_client.py    # üõ°Ô∏è –°–∫—Ä–∏–ø—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–±—Ä–∞—É–∑–µ—Ä)
‚îÇ   ‚îú‚îÄ‚îÄ harmful_bus.py       # üõ°Ô∏è –°–∫—Ä–∏–ø—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–∞–≤—Ç–æ–±—É—Å)
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt     # üêç –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ Python (trio, pydantic, click)
‚îÇ
‚îî‚îÄ‚îÄ README.md                # üìñ –í—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –∑–¥–µ—Å—å
```

---

## üèõÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

1.  **–°–µ—Ä–≤–µ—Ä (`server.py`)** üñ•Ô∏è:
    *   –ü—Ä–∏–Ω–∏–º–∞–µ—Ç GPS-–¥–∞–Ω–Ω—ã–µ –æ—Ç –∞–≤—Ç–æ–±—É—Å–æ–≤ –Ω–∞ –ø–æ—Ä—Ç `8080`.
    *   –û–±—â–∞–µ—Ç—Å—è —Å –±—Ä–∞—É–∑–µ—Ä–∞–º–∏ –Ω–∞ –ø–æ—Ä—Ç—É `8000`.
    *   **–£–º–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –°–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤–∞–º –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –æ —Ç–µ—Ö –∞–≤—Ç–æ–±—É—Å–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Ä–µ–∞–ª—å–Ω–æ –≤–∏–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω–µ. üïµÔ∏è‚Äç‚ôÇÔ∏è
    *   **–°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è**: –õ—é–±–æ–π "–∫—Ä–∏–≤–æ–π" JSON –æ—Ç—Å–µ–∫–∞–µ—Ç—Å—è –Ω–∞ –≤—Ö–æ–¥–µ.

2.  **–ò–º–∏—Ç–∞—Ç–æ—Ä (`fake_bus.py`)** ü§ñ:
    *   –û–∂–∏–≤–ª—è–µ—Ç –∫–∞—Ä—Ç—É, –∑–∞–ø—É—Å–∫–∞—è —Å–æ—Ç–Ω–∏ –∏ —Ç—ã—Å—è—á–∏ –∞–≤—Ç–æ–±—É—Å–æ–≤.
    *   **–ú—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–∞–Ω–∞–ª—ã –ø–∞–º—è—Ç–∏ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –æ—Ç 10 000 –∞–≤—Ç–æ–±—É—Å–æ–≤ —á–µ—Ä–µ–∑ –≤—Å–µ–≥–æ 5 —Å–µ—Ç–µ–≤—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π. –≠–∫–æ–Ω–æ–º–∏–º —Ä–µ—Å—É—Ä—Å—ã —Å–∏—Å—Ç–µ–º—ã! üíé
    *   **–ê–≤—Ç–æ-—Ä–µ–∫–æ–Ω–Ω–µ–∫—Ç**: –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä —É–ø–∞–¥–µ—Ç, –∏–º–∏—Ç–∞—Ç–æ—Ä –¥–æ–∂–¥–µ—Ç—Å—è –µ–≥–æ –ø–æ–¥–Ω—è—Ç–∏—è –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç—É.

3.  **–§—Ä–æ–Ω—Ç–µ–Ω–¥ (`frontend/`)** üé®:
    *   **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å**: –ò–∫–æ–Ω–∫–∏ –∞–≤—Ç–æ–±—É—Å–æ–≤ —Ä–∞—Å—Ç—É—Ç –ø—Ä–∏ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏ (–∑—É–º–µ), –∞ –Ω–æ–º–µ—Ä –º–∞—Ä—à—Ä—É—Ç–∞ –≤—Å–µ–≥–¥–∞ –æ—Å—Ç–∞–µ—Ç—Å—è —á–µ—Ç–∫–∏–º. üîç
    *   **–ü–ª–∞–≤–Ω–æ—Å—Ç—å**: –î–≤–∏–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–±—É—Å–æ–≤ –∏–Ω—Ç–µ—Ä–ø–æ–ª–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ CSS, —É–±–∏—Ä–∞—è "–¥–µ—Ä–≥–∞–Ω—å–µ" –∏–∑-–∑–∞ —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–¥–µ—Ä–∂–µ–∫. ‚ú®

---

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–í–∞–º –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è Python 3.11+, Node.js 18+ –∏ Yarn.

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë—ç–∫–µ–Ω–¥–∞ üêç
```bash
pip install -r server/requirements.txt
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –§—Ä–æ–Ω—Ç–µ–Ω–¥–∞ üé®
```bash
cd frontend
yarn install
```

---

## üöÄ –ó–∞–ø—É—Å–∫

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –æ–∫–Ω–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:

### 1. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ üñ•Ô∏è
```bash
python server/server.py -v
```
*   `--bus_port`: –ø–æ—Ä—Ç –¥–ª—è –∞–≤—Ç–æ–±—É—Å–æ–≤ (8080).
*   `--browser_port`: –ø–æ—Ä—Ç –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞ (8000).

### 2. –ó–∞–ø—É—Å–∫ –∏–º–∏—Ç–∞—Ç–æ—Ä–∞ ü§ñ
```bash
python server/fake_bus.py --routes_number 50 --buses_per_route 5
```
*   `--routes_number`: –ª–∏–º–∏—Ç –º–∞—Ä—à—Ä—É—Ç–æ–≤ (—á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∑–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä).
*   `--buses_per_route`: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—à–∏–Ω –Ω–∞ –º–∞—Ä—à—Ä—É—Ç.

### 3. –ó–∞–ø—É—Å–∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ üé®
```bash
cd frontend
yarn dev
```
üëâ –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://localhost:5173`

---

## üß† –¢–æ–Ω–∫–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

*   **–ë–æ—Ä—å–±–∞ —Å –ª–∏–º–∏—Ç–∞–º–∏**: –ú—ã –æ–±–æ—à–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –û–° `Too many open files`, –≤–Ω–µ–¥—Ä–∏–≤ –∫–∞–Ω–∞–ª—ã Trio (Producer-Consumer).
*   **–≠–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–µ—Ä–µ–¥–∞—á–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –æ–∫–Ω–∞ (`Bounds`) –æ—Ç Leaflet –∫ Python-—Å–µ—Ä–≤–µ—Ä—É –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤.
*   **Silky Smooth**: –ü–ª–∞–≤–Ω–æ—Å—Ç—å 60 FPS –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –∑–∞ —Å—á–µ—Ç —Ç–æ–≥–æ, —á—Ç–æ `transition` –≤ CSS –¥–ª–∏—Ç—Å—è –Ω–∞ 50% –¥–æ–ª—å—à–µ, —á–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

---
–°–¥–µ–ª–∞–Ω–æ —Å –ª—é–±–æ–≤—å—é –∫ —á–∏—Å—Ç–æ–º—É –≤–æ–∑–¥—É—Ö—É –∏ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–º—É —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É! üåøüöå
